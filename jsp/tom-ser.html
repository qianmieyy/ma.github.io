<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307671 (zh-CN, DDL); Windows/6.3.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2002"/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="box-sizing:border-box;font-family:sans-serif;text-size-adjust:100%;font-size:10px;-webkit-tap-highlight-color:transparent;"><div style="box-sizing:border-box;font-family:-apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size:14px;line-height:1.42858;color:rgb(51, 51, 51);background-color:rgb(255, 255, 255);-webkit-font-smoothing:antialiased;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;line-height:1.8;word-wrap:break-word;font-size:15px;font-family:-apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;"><span style="line-height:1.8;font-size:15px;font-family:-apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;display:table;"> </span>
                    
<p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;">下面是我整理下来的Servlet知识点:</p>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/bV3c9e" type="image/png" data-filename="bV3c9e" height="430" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="图片描述" width="800"/></span><br style="box-sizing:border-box;"/>￼</p>
<p style="box-sizing:border-box;margin:1.5em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">图上的知识点都可以在我其他的文章内找到相应内容。</strong></p>
<h1 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;font-size:2em;margin:1.5em 0px 0px;line-height:1.75em;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Tomcat常见面试题</h1>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Tomcat的缺省端口是多少，怎么修改</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>Tomcat的缺省端口是多少，怎么修改<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">找到Tomcat目录下的conf文件夹</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">进入conf文件夹里面找到server.xml文件</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">打开server.xml文件</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">在server.xml文件里面找到下列信息</li>
</ol>
<pre style="word-wrap:break-word;overflow-x:auto;border-radius:4px;box-sizing:border-box;display:block;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;word-break:break-all;line-height:1.45;margin:1.5em 0px;padding:1em;border:none;font-size:0.93em;max-height:35em;position:relative;background:url(https://static.segmentfault.com/v-5b8f9b7e/global/css/../img/blueprint.png) 0% 0% / 30px rgb(246, 246, 246), 0% 0% / 30px;overflow:auto;margin-top:0px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:0px;color:inherit;border-radius:0px;font-size:1em;white-space:inherit;background:none;overflow-wrap:normal;">  <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">Service</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">name</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;Catalina&quot;</span>&gt;</span>
  

    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">Connector</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">port</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;8080&quot;</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">protocol</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;HTTP/1.1&quot;</span> 
               <span style="box-sizing:border-box;color:rgb(0, 128, 128);">connectionTimeout</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;20000&quot;</span> 
               <span style="box-sizing:border-box;color:rgb(0, 128, 128);">redirectPort</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;8443&quot;</span> /&gt;</span></code></pre>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">把port=”8080″改成port=”8888″，并且保存</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">启动Tomcat，并且在IE浏览器里面的地址栏输入<a href="http://127.0.0.1/" rel="nofollow noreferrer" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;border-bottom:1px solid rgba(0, 154, 97, 0.25);padding-bottom:1px;" target="_blank">http://127.0.0.1</a>:8888/</li>
</ol>
<p style="box-sizing:border-box;margin:1.5em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">到tomcat主目录下的conf/server.xml文件中修改</strong>,把8080端口改成是8088或者是其他的<br style="box-sizing:border-box;"/><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228145" type="image/png" data-filename="1460000013228145" height="296" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="800"/></span></p>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Tomcat 有哪几种Connector 运行模式(优化)？</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>tomcat 有哪几种Connector 运行模式(优化)？<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">bio(blocking I/O)</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">nio(non-blocking I/O)</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">apr(Apache Portable Runtime/Apache可移植运行库)</li>
</ol>
<p style="box-sizing:border-box;margin:1.5em 0px;">相关解释:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">bio: <strong style="box-sizing:border-box;font-weight:bold;">传统的Java I/O操作，同步且阻塞IO。</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">nio: <strong style="box-sizing:border-box;font-weight:bold;">JDK1.4开始支持，同步阻塞或同步非阻塞IO</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">aio(nio.2): <strong style="box-sizing:border-box;font-weight:bold;">JDK7开始支持，异步非阻塞IO</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">apr: Tomcat将以JNI的形式调用Apache HTTP服务器的核心动态链接库来处理文件读取或网络传输操作，从而大大地 <strong style="box-sizing:border-box;font-weight:bold;">提高Tomcat对静态文件的处理性能</strong>
</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">下面是<strong style="box-sizing:border-box;font-weight:bold;">配置Tomcat运行模式改成是NIO模式，并配置连接池相关参数来进行优化</strong>:</p>
<pre style="word-wrap:break-word;overflow-x:auto;border-radius:4px;box-sizing:border-box;display:block;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;word-break:break-all;line-height:1.45;margin:1.5em 0px;padding:1em;border:none;font-size:0.93em;max-height:35em;position:relative;background:url(https://static.segmentfault.com/v-5b8f9b7e/global/css/../img/blueprint.png) 0% 0% / 30px rgb(246, 246, 246), 0% 0% / 30px;overflow:auto;margin-top:0px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:0px;color:inherit;border-radius:0px;font-size:1em;white-space:inherit;background:none;overflow-wrap:normal;">    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">&lt;!--
    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;
               connectionTimeout=&quot;20000&quot;
               redirectPort=&quot;8443&quot; /&gt;
    --&gt;</span>
    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">&lt;!-- protocol 启用 nio模式，(tomcat8默认使用的是nio)(apr模式利用系统级异步io) --&gt;</span>
    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">&lt;!-- minProcessors最小空闲连接线程数--&gt;</span>
    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">&lt;!-- maxProcessors最大连接线程数--&gt;</span>
    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">&lt;!-- acceptCount允许的最大连接数，应大于等于maxProcessors--&gt;</span>
    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">&lt;!-- enableLookups 如果为true,requst.getRemoteHost会执行DNS查找，反向解析ip对应域名或主机名--&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">Connector</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">port</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;8080&quot;</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">protocol</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span> 
        <span style="box-sizing:border-box;color:rgb(0, 128, 128);">connectionTimeout</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;20000&quot;</span>
        <span style="box-sizing:border-box;color:rgb(0, 128, 128);">redirectPort</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;8443

        maxThreads=“500” 
        minSpareThreads=“100” 
        maxSpareThreads=“200”
        acceptCount=&quot;</span><span style="box-sizing:border-box;color:rgb(0, 128, 128);">200</span>&quot;
        <span style="box-sizing:border-box;color:rgb(0, 128, 128);">enableLookups</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;false&quot;</span>       
    /&gt;</span>
</code></pre>
<p style="box-sizing:border-box;margin:1.5em 0px;">apr模式启动起来是比较复杂的，详情可参考:<a href="http://blog.csdn.net/wanglei_storage/article/details/50225779" rel="nofollow noreferrer" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;border-bottom:1px solid rgba(0, 154, 97, 0.25);padding-bottom:1px;" target="_blank">http://blog.csdn.net/wanglei_storage/article/details/50225779</a></p>
<p style="box-sizing:border-box;margin:1.5em 0px;">对于bio,nio,nio.2的理解可参考:<a href="http://blog.csdn.net/itismelzp/article/details/50886009" rel="nofollow noreferrer" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;border-bottom:1px solid rgba(0, 154, 97, 0.25);padding-bottom:1px;" target="_blank">http://blog.csdn.net/itismelzp/article/details/50886009</a></p>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Tomcat有几种部署方式</h2>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">直接把Web项目放在webapps下，Tomcat会自动将其部署</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">在server.xml文件上配置<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:2px 4px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:4px;font-size:0.93em;">&lt;Context&gt;</code>节点，设置相关的属性即可</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">通过Catalina来进行配置:进入到confCatalinalocalhost文件下，创建一个xml文件，该文件的名字就是站点的名字。编写XML的方式来进行设置。</li>
</ol>
<h3 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.25em;font-size:1.5em;margin:1.5em 0px 0px;">部署方式第二点：</h3>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">在其他盘符下创建一个web站点目录，并创建WEB-INF目录和一个html文件。</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228146" type="image/png" data-filename="1460000013228146" height="175" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="800"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">找到Tomcat目录下/conf/server.xml文件</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228147" type="image/png" data-filename="1460000013228147" height="216" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="800"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">在server.xml中的&lt;Host&gt;节点下添加如下代码。<strong style="box-sizing:border-box;font-weight:bold;">path表示的是访问时输入的web项目名，docBase表示的是站点目录的绝对路径</strong>
</li></ul>
<pre style="word-wrap:break-word;overflow-x:auto;border-radius:4px;box-sizing:border-box;display:block;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;word-break:break-all;line-height:1.45;margin:1.5em 0px;padding:1em;border:none;font-size:0.93em;max-height:35em;position:relative;background:url(https://static.segmentfault.com/v-5b8f9b7e/global/css/../img/blueprint.png) 0% 0% / 30px rgb(246, 246, 246), 0% 0% / 30px;overflow:auto;margin-top:0px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:0px;color:inherit;border-radius:0px;font-size:1em;white-space:inherit;background:none;overflow-wrap:normal;">
        <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">Context</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">path</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;/web1&quot;</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">docBase</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;D:\web1&quot;</span>/&gt;</span></code></pre>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228148" type="image/png" data-filename="1460000013228148" height="401" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="800"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">访问配置好的web站点</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228149" type="image/png" data-filename="1460000013228149" height="193" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="726"/></span></p>
<hr style="border-right-color:initial;box-sizing:content-box;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;height:0px;border-bottom-color:initial;border-left-color:initial;border-image:initial;margin:1.5em auto;border-top:2px dotted rgb(238, 238, 238);"/>
<h3 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.25em;font-size:1.5em;margin:1.5em 0px 0px;">部署方式第三点：</h3>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">进入到confCatalinalocalhost文件下，创建一个xml文件，<strong style="box-sizing:border-box;font-weight:bold;">该文件的名字就是站点的名字。</strong>
</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228150" type="image/png" data-filename="1460000013228150" height="183" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="这里写图片描述" width="800"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">xml文件的代码如下，<strong style="box-sizing:border-box;font-weight:bold;">docBase是你web站点的绝对路径</strong>
</li></ul>
<pre style="word-wrap:break-word;overflow-x:auto;border-radius:4px;box-sizing:border-box;display:block;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;word-break:break-all;line-height:1.45;margin:1.5em 0px;padding:1em;border:none;font-size:0.93em;max-height:35em;position:relative;background:url(https://static.segmentfault.com/v-5b8f9b7e/global/css/../img/blueprint.png) 0% 0% / 30px rgb(246, 246, 246), 0% 0% / 30px;overflow:auto;margin-top:0px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:0px;color:inherit;border-radius:0px;font-size:1em;white-space:inherit;background:none;overflow-wrap:normal;"><span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(153, 153, 153);font-weight:bold;">&lt;?</span>xml version=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;1.0&quot;</span> encoding=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;UTF-8&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);font-weight:bold;">?&gt;</span></span> 
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">Context</span> 
    <span style="box-sizing:border-box;color:rgb(0, 128, 128);">docBase</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;D:\web1&quot;</span> 
    <span style="box-sizing:border-box;color:rgb(0, 128, 128);">reloadable</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;true&quot;</span>&gt;</span> 
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">Context</span>&gt;</span> </code></pre>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">访问web站点下的html资源</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228151" type="image/png" data-filename="1460000013228151" height="138" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="这里写图片描述" width="800"/></span></p>
<h1 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;font-size:2em;margin:1.5em 0px 0px;line-height:1.75em;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Servlet面试题</h1>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Servlet生命周期</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>Servlet生命周期?<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228152" type="image/png" data-filename="1460000013228152" height="430" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="800"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">第一次访问</strong>Servlet，我们发现<strong style="box-sizing:border-box;font-weight:bold;">init()和service()都被调用了</strong>
</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228153" type="image/png" data-filename="1460000013228153" height="296" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="400"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">第二次访问</strong>Servlet，<strong style="box-sizing:border-box;font-weight:bold;">service()被调用了</strong>
</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228154" type="image/png" data-filename="1460000013228154" height="296" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="400"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">第三次访问Servlet，<strong style="box-sizing:border-box;font-weight:bold;">还是service()被调用了</strong>
</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228154 [1]" type="image/png" data-filename="1460000013228154" height="296" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="400"/></span></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">当我们<strong style="box-sizing:border-box;font-weight:bold;">关闭Tomcat服务器</strong>的时候，<strong style="box-sizing:border-box;font-weight:bold;">destroy()被调用了！</strong>
</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228155" type="image/png" data-filename="1460000013228155" height="296" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="400"/></span></p>
<p style="box-sizing:border-box;margin:1.5em 0px;">Servlet生命周期可分为5个步骤</p>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">加载Servlet</strong>。当Tomcat第一次访问Servlet的时候，<strong style="box-sizing:border-box;font-weight:bold;">Tomcat会负责创建Servlet的实例</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">初始化</strong>。当Servlet被实例化后，Tomcat会<strong style="box-sizing:border-box;font-weight:bold;">调用init()方法初始化这个对象</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">处理服务</strong>。当浏览器<strong style="box-sizing:border-box;font-weight:bold;">访问Servlet</strong>的时候，Servlet <strong style="box-sizing:border-box;font-weight:bold;">会调用service()方法处理请求</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">销毁</strong>。当Tomcat关闭时或者检测到Servlet要从Tomcat删除的时候会自动调用destroy()方法，<strong style="box-sizing:border-box;font-weight:bold;">让该实例释放掉所占的资源</strong>。一个Servlet如果长时间不被使用的话，也会被Tomcat自动销毁</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">卸载</strong>。当Servlet调用完destroy()方法后，等待垃圾回收。如果<strong style="box-sizing:border-box;font-weight:bold;">有需要再次使用这个Servlet，会重新调用init()方法进行初始化操作</strong>。</li>
</ol>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">简单总结：<strong style="box-sizing:border-box;font-weight:bold;">只要访问Servlet，service()就会被调用。init()只有第一次访问Servlet的时候才会被调用。destroy()只有在Tomcat关闭的时候才会被调用。</strong>
</li></ul>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">get方式和post方式有何区别</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>get方式和post方式有何区别<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<p style="box-sizing:border-box;margin:1.5em 0px;">数据携带上:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">GET方式：在URL地址后附带的参数是有限制的，其数据容量通常不能超过1K。</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">POST方式：可以在请求的实体内容中向服务器发送数据，传送的数据量无限制。</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">请求参数的位置上:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">GET方式：请求参数放在URL地址后面，以?的方式来进行拼接</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">POST方式:请求参数放在HTTP请求包中</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">用途上:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">GET方式一般用来获取数据</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">POST方式一般用来提交数据</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">原因:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">首先是因为GET方式携带的数据量比较小，无法带过去很大的数量</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">POST方式提交的参数后台更加容易解析(使用POST方式提交的中文数据，后台也更加容易解决)</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">GET方式比POST方式要快</li>
</ul>
</li></ul>
</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">GET方式比POST方式要快，详情可看:<a href="https://www.cnblogs.com/strayling/p/3580048.html" rel="nofollow noreferrer" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;border-bottom:1px solid rgba(0, 154, 97, 0.25);padding-bottom:1px;" target="_blank">https://www.cnblogs.com/strayling/p/3580048.html</a></p>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Servlet相关 API</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>doGet与doPost方法的两个参数是什么<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">HttpServletRequest：封装了与请求相关的信息</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">HttpServletResponse：封装了与响应相关的信息<p style="box-sizing:border-box;margin:0px;margin-top:0px;margin-bottom:0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228156" type="image/png" data-filename="1460000013228156" height="286" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="774"/></span></p>
</li>
</ol>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>获取页面的元素的值有几种方式，分别说一下<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getParameter() 返回客户端的请求参数的值</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getParameterNames() 返回所有可用属性名的枚举</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getParameterValues() 返回包含参数的所有值的数组</li>
</ol>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>request.getAttribute()和request.getParameter()区别<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<p style="box-sizing:border-box;margin:1.5em 0px;">用途上:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getAttribute()， <strong style="box-sizing:border-box;font-weight:bold;">一般用于获取request域对象的数据</strong>(在跳转之前把数据使用setAttribute来放到request对象上)</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getParameter()， <strong style="box-sizing:border-box;font-weight:bold;">一般用于获取客户端提交的参数</strong>
</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">存储数据上:</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getAttribute()可以获取Objcet对象</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">request.getParameter()只能获取字符串(这也是为什么它一般用于获取客户端提交的参数)</li>
</ul>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">forward和redirect的区别</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>forward和redirect的区别<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;"><p style="box-sizing:border-box;margin:0px;margin-top:0px;margin-bottom:0px;"><strong style="box-sizing:border-box;font-weight:bold;">实际发生位置不同，地址栏不同</strong></p></li>
<li style="box-sizing:border-box;margin:0.3em 0px;"><ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-bottom:0px;margin-top:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">转发是发生在服务器的</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">转发是由服务器进行跳转的</strong>，细心的朋友会发现，在转发的时候，<strong style="box-sizing:border-box;font-weight:bold;">浏览器的地址栏是没有发生变化的</strong>，在我访问Servlet111的时候，即使跳转到了Servlet222的页面，浏览器的地址还是Servlet111的。也就是说<strong style="box-sizing:border-box;font-weight:bold;">浏览器是不知道该跳转的动作，转发是对浏览器透明的</strong>。通过上面的转发时序图我们也可以发现，<strong style="box-sizing:border-box;font-weight:bold;">实现转发只是一次的http请求</strong>，<strong style="box-sizing:border-box;font-weight:bold;">一次转发中request和response对象都是同一个</strong>。这也解释了，为什么可以使用<strong style="box-sizing:border-box;font-weight:bold;">request作为域对象进行Servlet之间的通讯。</strong>
</li></ul>
</li></ul></li>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">重定向是发生在浏览器的</p>
<pre style="word-wrap:break-word;overflow-x:auto;border-radius:4px;box-sizing:border-box;display:block;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;word-break:break-all;line-height:1.45;margin:1.5em 0px;padding:1em;border:none;font-size:0.93em;max-height:35em;position:relative;background:url(https://static.segmentfault.com/v-5b8f9b7e/global/css/../img/blueprint.png) 0% 0% / 30px rgb(246, 246, 246), 0% 0% / 30px;overflow:auto;margin-top:0px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:0px;color:inherit;border-radius:0px;font-size:1em;white-space:initial;background:none;overflow-wrap:normal;word-break:break-word;"> - <span style="box-sizing:border-box;font-weight:bold;">**重定向是由浏览器进行跳转的**</span>，进行重定向跳转的时候，<span style="box-sizing:border-box;font-weight:bold;">**浏览器的地址会发生变化的**</span>。曾经介绍过：实现重定向的原理是由response的状态码和Location头组合而实现的。<span style="box-sizing:border-box;font-weight:bold;">**这是由浏览器进行的页面跳转**</span>实现重定向<span style="box-sizing:border-box;font-weight:bold;">**会发出两个http请求**</span>，<span style="box-sizing:border-box;font-weight:bold;">**request域对象是无效的，因为它不是同一个request对象**</span></code></pre>
</li></ul>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">用法不同:</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">很多人都搞不清楚转发和重定向的时候，<strong style="box-sizing:border-box;font-weight:bold;">资源地址究竟怎么写</strong>。有的时候要把应用名写上，有的时候不用把应用名写上。很容易把人搞晕。记住一个原则： <strong style="box-sizing:border-box;font-weight:bold;">给服务器用的直接从资源名开始写，给浏览器用的要把应用名写上</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">request.getRequestDispatcher(&quot;/资源名 URI&quot;).forward(request,response)</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">转发时&quot;/&quot;代表的是本应用程序的根目录【zhongfucheng】</strong></li></ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;">response.send(&quot;/web应用/资源名 URI&quot;);</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">重定向时&quot;/&quot;代表的是webapps目录</strong></li></ul>
</li>
</ul>
</li></ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">能够去往的URL的范围不一样:</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">转发是服务器跳转只能去往当前web应用的资源</strong></li>
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">重定向是服务器跳转，可以去往任何的资源</strong></li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">传递数据的类型不同</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">转发的request对象可以传递各种类型的数据，包括对象</strong></li>
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">重定向只能传递字符串</strong></li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">跳转的时间不同</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">转发时：执行到跳转语句时就会立刻跳转</strong></li>
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">重定向：整个页面执行完之后才执行跳转</strong></li>
</ul>
</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">那么转发(forward)和重定向(redirect)使用哪一个？</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;"><li style="box-sizing:border-box;margin:0.3em 0px;">根据上面说明了转发和重定向的区别也可以很容易概括出来<strong style="box-sizing:border-box;font-weight:bold;">。转发是带着转发前的请求的参数的。重定向是新的请求</strong>。</li></ul>
<p style="box-sizing:border-box;margin:1.5em 0px;">典型的应用场景：</p>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">转发: 访问 Servlet 处理业务逻辑，然后 forward 到 jsp 显示处理结果，浏览器里 URL 不变</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">重定向: 提交表单，处理成功后 redirect 到另一个 jsp，防止表单重复提交，浏览器里 URL 变了</li>
</ol>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">tomcat容器是如何创建servlet类实例？用到了什么原理？</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>tomcat容器是如何创建servlet类实例？用到了什么原理<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">当容器启动时，会读取在webapps目录下所有的web应用中的web.xml文件，然后对 <strong style="box-sizing:border-box;font-weight:bold;">xml文件进行解析，并读取servlet注册信息</strong>。然后，将每个应用中注册的servlet类都进行加载，并通过 <strong style="box-sizing:border-box;font-weight:bold;">反射的方式实例化</strong>。（有时候也是在第一次请求时实例化）</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">在servlet注册时加上&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;如果为正数，则在一开始就实例化，如果不写或为负数，则第一次请求实例化。</li>
</ol>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">什么是cookie？Session和cookie有什么区别？</h2>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>什么是cookie？<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<p style="box-sizing:border-box;margin:1.5em 0px;">Cookie是由W3C组织提出，最早由netscape社区发展的一种机制</p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">网页之间的<strong style="box-sizing:border-box;font-weight:bold;">交互是通过HTTP协议传输数据的，</strong>而Http协议是<strong style="box-sizing:border-box;font-weight:bold;">无状态的协议</strong>。无状态的协议是什么意思呢？<strong style="box-sizing:border-box;font-weight:bold;">一旦数据提交完后，浏览器和服务器的连接就会关闭，再次交互的时候需要重新建立新的连接</strong>。</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">服务器无法确认用户的信息，于是乎，W3C就提出了：<strong style="box-sizing:border-box;font-weight:bold;">给每一个用户都发一个通行证，无论谁访问的时候都需要携带通行证，这样服务器就可以从通行证上确认用户的信息</strong>。通行证就是Cookie</li>
</ul>
<p style="box-sizing:border-box;margin:1.5em 0px;"><span style="box-sizing:border-box;display:block;text-align:center;"><img src="tom-ser_files/1460000013228157" type="image/png" data-filename="1460000013228157" height="368" style="box-sizing:border-box;vertical-align:middle;border:none;max-width:100%;padding:3px;position:static;cursor:pointer;display:inline;" title="" width="800"/></span></p>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>Session和cookie有什么区别？<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">从存储方式上比较</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">Cookie只能存储字符串，如果要存储非ASCII字符串还要对其编码。</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">Session可以存储任何类型的数据，可以把Session看成是一个容器</li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">从隐私安全上比较</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">Cookie存储在浏览器中，对客户端是可见的</strong>。信息容易泄露出去。如果使用Cookie，最好将Cookie加密</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<strong style="box-sizing:border-box;font-weight:bold;">Session存储在服务器上，对客户端是透明的</strong>。不存在敏感信息泄露问题。</li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">从有效期上比较</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">Cookie保存在硬盘中，只需要设置maxAge属性为比较大的正整数，即使关闭浏览器，Cookie还是存在的</li>
<li style="box-sizing:border-box;margin:0.3em 0px;"><strong style="box-sizing:border-box;font-weight:bold;">Session的保存在服务器中，设置maxInactiveInterval属性值来确定Session的有效期。并且Session依赖于名为JSESSIONID的Cookie，该Cookie默认的maxAge属性为-1。如果关闭了浏览器，该Session虽然没有从服务器中消亡，但也就失效了。</strong></li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">从对服务器的负担比较</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">Session是保存在服务器的，每个用户都会产生一个Session，如果是并发访问的用户非常多，是不能使用Session的，Session会消耗大量的内存。</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">Cookie是保存在客户端的。不占用服务器的资源。像baidu、Sina这样的大型网站，一般都是使用Cookie来进行会话跟踪。</li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">从浏览器的支持上比较</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">如果浏览器禁用了Cookie，那么Cookie是无用的了！</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">如果浏览器禁用了Cookie，Session可以通过URL地址重写来进行会话跟踪。</li>
</ul>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">
<p style="box-sizing:border-box;margin:0px;margin-top:0px;"><strong style="box-sizing:border-box;font-weight:bold;">从跨域名上比较</strong></p>
<ul style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;margin:0.3em 0px;">Cookie可以设置domain属性来实现跨域名</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">Session只在当前的域名内有效，不可夸域名</li>
</ul>
</li>
</ul>
<h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;color:inherit;line-height:1.5em;font-size:1.75em;margin:1.5em 0px 0px;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:10px;">Servlet安全性问题</h2>
<p style="box-sizing:border-box;margin:1.5em 0px;">由于Servlet是单例的，当多个用户访问Servlet的时候，<strong style="box-sizing:border-box;font-weight:bold;">服务器会为每个用户创建一个线程</strong>。<strong style="box-sizing:border-box;font-weight:bold;">当多个用户并发访问Servlet共享资源的时候就会出现线程安全问题</strong>。</p>
<p style="box-sizing:border-box;margin:1.5em 0px;">原则：</p>
<ol style="box-sizing:border-box;margin:1.5em 0px;padding-left:0px;margin-left:3em;">
<li style="box-sizing:border-box;margin:0.3em 0px;">如果一个<strong style="box-sizing:border-box;font-weight:bold;">变量需要多个用户共享</strong>，则应当在访问该变量的时候，<strong style="box-sizing:border-box;font-weight:bold;">加同步机制synchronized (对象){}</strong>
</li>
<li style="box-sizing:border-box;margin:0.3em 0px;">如果一个变量<strong style="box-sizing:border-box;font-weight:bold;">不需要共享</strong>，则<strong style="box-sizing:border-box;font-weight:bold;">直接在 doGet() 或者 doPost()定义</strong>.这样不会存在线程安全问题</li>
</ol>
<blockquote style="box-sizing:border-box;padding:10px 20px;margin:1.5em 0px;font-size:1em;border-left:2px solid rgb(0, 154, 97);background:rgb(246, 246, 246);color:rgb(85, 85, 85);"><span style="font-size:1em;color:rgb(85, 85, 85);"></span>如果文章有错的地方欢迎指正，大家互相交流。习惯在微信看技术文章的同学，可以关注微信公众号:Java3y<span style="font-size:1em;color:rgb(85, 85, 85);"></span></blockquote>

                <span style="line-height:1.8;font-size:15px;font-family:-apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;display:table;clear:both;"> </span></div></div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 